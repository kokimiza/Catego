#import "@preview/theorion:0.4.1": *
#import cosmos.clouds: *
#show: show-theorion

== Hom 関手：世界を映すスクリーン

対象 $X$ の「外部との関わり」を数学的にパッケージ化する道具が *Hom 関手* である。これは、ある対象を固定し、それを基準に他の全ての対象を「測る」ための物差しといえる。

#definition(title: "共変 Hom 関手")[
  圏 $bold(C)$ の対象 $X$ を固定したとき、各対象 $Y$ に集合 $op("hom")(X, Y)$ を対応させ、射 $g: Y -> Z$ に写像 $g_* : f |-> g compose f$ を対応させる関手 $bold(C) -> bold("Set")$ を、$X$ で表現される *共変 Hom 関手* と呼び、$h^X$ または $bold(C)(X, -)$ と表記する。
]

#remark[
  対象 $Y$ が変化するにつれ、$h^X(Y)$ は「$X$ から $Y$ への情報の流れ」の全貌を映し出す。これは $X$ という存在を、$Y$ というスクリーンに投影して観測しているようなものである。
  圏論において「$X$ を知る」ことと「関手 $h^X$ を知る」ことは、後に見る通り、事実上同義となる。
]

== 表現可能関手：抽象への肉付け

任意の関手が Hom 関手の形をしているわけではない。Hom 関手として書ける関手は、抽象的な情報の集まりの中に「源泉となる形」を持っている。

#definition(title: "表現可能関手 (Representable Functor)")[
  関手 $F: bold(C) -> bold("Set")$ が、ある対象 $X in bold(C)$ を用いて $F approx h^X$（自然同型）と表されるとき、$F$ は *$X$ によって表現可能* であるという。このとき $X$ を $F$ の *表現対象* と呼ぶ。
]

#important-box(title: "なぜ『表現』が重要なのか？")[
  表現可能関手であるということは、抽象的な関手 $F$ の背後に、その「源泉」となる具体的な対象 $X$ が隠れていることを意味する。
  例えば、ある複雑な数学的現象（関手）が実は「たった一つの対象 $X$ からの射の集まり」として記述できると分かれば、その現象の解析は対象 $X$ の解析に還元される。これは抽象的な現象に「物理的な実体」を与える操作に他ならない。
]

== Yoneda 補題：情報の圧縮

いよいよ圏論の白眉である米田の補題を導入する。この定理は、自然変換という「巨大な世界の写像」が、実は「一点の像」に凝縮されていることを主張する。

#lemma(title: "米田の補題 (Yoneda Lemma)")[
  任意の関手 $F: bold(C) -> bold("Set")$ と対象 $X in bold(C)$ に対し、次の自然な全単射が存在する：
  $ op("Nat")(h^X, F) approx F(X) $

  特に、$F = h^Y$ と置くと、次の「米田埋め込み」の基礎となる同型が得られる：
  $ op("Nat")(h^X, h^Y) approx op("hom")(Y, X) $
]

#footnote[
  この式における $approx$ は単なる集合としての全単射ではなく、$X$ と $F$ の両方に関して自然な同型である。つまり、この対応自体が構造を保ったまま「翻訳」可能であることを意味している。
]

この定理の驚くべき点は、左辺の $op("Nat")(h^X, F)$ という「関手の間のあらゆる変換を詰め込んだ巨大な集合」が、右辺の $F(X)$ という「単一の集合の要素」だけで完全に記述できてしまうという驚異的な *情報の圧縮* にある。

== Yoneda 的視点：対象 ＝ 射の振る舞い

米田の補題が示唆する哲学は、現代数学や物理学、さらには計算機科学にまで及ぶ新奇な洞察に満ちている。

=== 1. 存在と観測の同一視
米田の補題の最大の帰結は、「$h^X$ と $h^Y$ が（関手として）同型ならば、$X$ と $Y$ は（対象として）同型である」という事実である。#footnote[
  より正確には、米田埋め込み $yen: bold(C)^op -> bold("Set")^bold(C)$ が充満忠実であることを意味する。
]
これは、*「ある対象の正体を知りたければ、その対象の中身を分解するのではなく、あらゆる対象との関係性（射の振る舞い）を調べ尽くせばよい」* ということを保証する。

=== 2. 外界こそが本質である
集合論的なパラダイムでは、対象は「要素の集まり」として内部から定義された。しかし米田的視点では、対象は「他の全てのものに対する振る舞いのカタログ」として外部から定義される。
- *集合論的視点*: 「私は誰か？」という問いに対し、「私の遺伝子や細胞の構成」で答える。
- *米田的視点*: 「私は誰か？」という問いに対し、「私と関わった他者全員が私に対して抱く反応の総体」で答える。

この視点のスゴい点は、後者（外部からの観測）によって、前者（内部構造）が*完全に、かつ一意に復元できる*と数学的に証明してしまったことにある。

=== 3. 米田埋め込み：圏の宇宙を広げる
米田埋め込み $yen: bold(C) -> bold("Set")^(bold(C)^op)$ により、任意の圏 $bold(C)$ は、より豊かな性質を持つ「関手圏」の中へと送り込まれる。
元の圏 $bold(C)$ では対象が少なすぎて「極限」が存在しない場合でも、関手の宇宙（プリシェイフの圏）の中では、あらゆる構造が自由に構成可能になる。

#proof[
  証明の核心は非常にシンプルかつ美しい。自然変換 $alpha: h^X -> F$ が与えられたとき、各成分 $alpha_Y: h^X(Y) -> F(Y)$ の挙動を追う。

  実は、任意の射 $f: X -> Y$ に対し、自然性の条件から $alpha_Y (f) = F(f)(alpha_X (id_X))$ が導かれる。

  つまり、自然変換 $alpha$ 全体の運命は、たった一つの要素 $alpha_X (id_X) in F(X)$ がどこへ行くかによって完全に決定されているのである。この「一つの種（$id_X$）から全体の森が生成される」ような感覚こそ、構造保存の極致である。
]

#remark()[
  米田の補題は、「真理（対象の本質）」は「それを見る方法（関手）」の中に溶け込んでいると教えてくれる。
  物理学における「観測によって状態が決まる」という考え方や、計算機科学における「インターフェースが型を定義する」という思想は、まさにこの米田的視点の変奏曲と言えるだろう。
]