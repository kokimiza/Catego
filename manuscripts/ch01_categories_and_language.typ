#import "@preview/theorion:0.4.1": *
#import cosmos.clouds: *
#show: show-theorion

== 圏の動機と歴史

圏論（Category Theory）は、1940年代に S. Eilenberg と S. Mac Lane によって導入された数学的枠組みである。
当初の目的は、代数的位相幾何において自然に現れる「構成の間の対応関係」を、理論横断的に記述するための共通言語を与えることにあった。#footnote[Eilenberg–Mac Lane, *General Theory of Natural Equivalences* (1945) は、現在でも圏論の原点として引用される。
当初の関心はホモロジー理論における自然性の定式化であり、「圏」自体は補助的な道具として導入された。]

当時の数学では、対象の性質は主として集合の要素や演算によって記述されていた。
これに対し圏論は、対象をそれ自体としてではなく、他の対象との間に存在する射とその合成構造によって特徴づける。
この視点により、対象の内部構造を仮定せずとも、理論間の共通パターンを抽出することが可能となる。#footnote[この立場は、後に *external*（外延的）な構造把握と呼ばれる。
圏論では、対象の「要素」を直接扱うことは原理的に避けられ、性質は射の普遍性や可換性として表現される。]

圏論の初期受容は必ずしも良好ではなく、その抽象性ゆえに「abstract nonsense」と揶揄されることもあった。#footnote[この表現は否定的文脈で用いられることが多かったが、後に S. Mac Lane 自身が自嘲的に用いることで半ば定着した。]
しかし、1950年代以降、代数幾何、論理、計算機科学など多様な分野に応用が広がり、圏論は数学的構造を記述する基礎言語としての地位を確立していく。

#tip-box(title: "研究史的補足")[
- 圏論は「基礎付けの理論」としてではなく、「翻訳の理論」として誕生した。
- 初期の主要応用分野は代数的位相幾何とホモロジー代数であり、Grothendieck による代数幾何への導入（1950–60年代）が決定的な転機となった。
- 現代では、論理（トポス論）、計算理論（型理論・関数型プログラミング）、物理（量子圏論）などにも深く浸透している。
- 圏論は「すべてを一般化する理論」ではなく、「何が構造として本質的かを峻別する理論」として理解されるべきである。]


== 対象と射

#definition(title: "圏 (Category)")[
  圏 $bold(C)$ とは、次のデータからなる構造である：

  - *対象* (objects) の集まり $op("ob")(bold(C))$
  - *射* (morphisms) の集まり：各 $X, Y in op("ob")(bold(C))$ に対する集合 $op("hom")(X, Y)$
  - *合成* (composition)：$f: X -> Y, g: Y -> Z$ に対し定まる $g compose f: X -> Z$
  - *恒等射* (identity)：各対象 $X$ に対する $id_X: X -> X$

  これらは次の公理を満たす：
  1. *結合律*: $h compose (g compose f) = (h compose g) compose f$
  2. *単位律*: $f compose id_X = f = id_Y compose f$
]

この定義において決定的に重要なのは、*対象の「中身」が一切不問である*という点である。

=== 「点」としての対象
集合論において、ある集合を理解するには、その「要素（中身）」を調べる必要があった。しかし、圏論における対象 $X$ は、内部構造を持たない「点」として扱われる。#footnote[
したがって、圏論における対象は集合論的要素を必ずしも持たず、場合によっては「何であるか」すら問われない。
]
対象が「何であるか」ではなく、対象が「他の対象とどう関わっているか（どんな射が出入りしているか）」という外部との関係性のみが、その対象の個性を決定する。

=== 構造の「解剖」から「マッピング」へ
数学的な対象を理解するためのアプローチを、圏論は根本から変えた。
- *解剖学的アプローチ（集合論）*: 対象を細かく分解し、中にある要素の振る舞いを記述する。
- *生態学的アプローチ（圏論）*: 対象を環境（圏）の中に置き、他の対象とのネットワーク（射の体系）の中で記述する。

例えば、「ある対象 $X$ が何らかの構造を持っている」という事実は、中身を覗かなくても「特定の性質を持つ射が $X$ に向かって伸びている」という事実によって代替される。

=== 抽象化の威力：普遍性への扉
中身を捨てて「射」だけに注目することで、一見全く異なる分野の概念が、実は「圏論の言葉では同じ構造として記述できる」という驚くべき事実が見えてくる。

#example(title: "「1」の正体")[
  集合論における「1点集合」、群論における「単位群」、位相空間論における「1点空間」。これらの中身はバラバラだが、圏論では「任意の対象からただ一つの射が伸びてくる対象（終対象）」として*全く同じ定義*で括られる。
]

この「徹底的な抽象化」こそが、異なる数学の分野を横断する共通言語としての圏論の強さであり、初学者が最初に乗り越えるべき、そして最も報われる「壁」である。

== 可換図式という記法

圏論では、射の等式
$g ∘ f = h$
は、しばしば可換図式として表現される。

可換図式とは、同じ始点と終点を持つ任意の経路が、同一の射を定めることを主張する図である。
この記法は単なる視覚的補助ではなく、射の合成に関する論理的主張そのものを表現している。#footnote[
可換図式は証明を省略するための図ではなく、代数的等式を幾何学的対象へと置き換えたものである。
]

複雑な射の関係は、図式上の経路を追跡することで確認される。
この手法は diagram chasing と呼ばれ、圏論的議論の基本技法の一つである。

== 具体圏と抽象圏

圏は、その与え方により大きく二つに分類される。

#figure(
  caption: [具体圏と抽象圏の対比],
  placement: top,
  table(
    columns: (6em, auto),
    align: (left, left),
    inset: (x: 8pt, y: 4pt),
    stroke: (x, y) => if y <= 1 { (top: 0.5pt) },
    fill: (x, y) => if y > 0 and calc.rem(y, 2) == 0 { rgb("#efefef") },

    table.header[*分類*][*説明*],

    [具体圏],
    [
      対象が集合に追加構造を持ち、射が構造を保つ関数として与えられる圏。\
      例：$"Set"$, $"Grp"$, $"Top"$
    ],

    [抽象圏],
    [
      対象が集合であることを仮定しない圏。\
      射は順序関係、生成規則、論理的含意などとして与えられる。
    ],
  )
)


具体圏は直感的で理解しやすい一方、圏論の本質的な一般性は抽象圏においてより明確に現れる。
多くの基本概念は、集合や要素を参照せず、射の性質のみから定義される。

#theorem(title: "圏論的再定式化の原理")[
  具体圏において要素を用いて定義される性質は、抽象圏においては射の普遍的性質として定式化される。
]

この再定式化により、異なる数学分野に現れる構造が、単一の圏論的言語のもとで統一的に理解される。

#remark[
  対象の内部構造を見ないという制約は、圏論においては一般性と再利用性を保証するための設計原理である。
]

