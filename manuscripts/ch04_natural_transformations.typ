#import "@preview/theorion:0.4.1": *
#import cosmos.clouds: *
#show: show-theorion

前章までに、我々は対象を点とし、関手を世界（圏）の間の翻訳として捉えてきた。しかし、翻訳の仕方は一通りではない。本章で扱う *自然変換* (Natural Transformation) は、二つの翻訳 $F$ と $G$ を比較し、一方が他方へと滑らかに変形可能であることを保証する「メタな矢印」である。

== 自然変換の定義：射の族としての翻訳

二つの関手 $F, G: bold(C) -> bold(D)$ があるとき、それらを結ぶ「橋」を架ける。

#definition(title: "自然変換 (Natural Transformation)")[
  関手 $F, G: bold(C) -> bold(D)$ に対し、自然変換 $alpha: F -> G$ とは、各対象 $X in "ob"(bold(C))$ に対して、$bold(D)$ の射
  $ alpha_X : F(X) -> G(X) $
  を割り当てた族である。この $alpha_X$ を $X$ における $alpha$ の *成分* (component) と呼ぶ。
]

#tip-box(title: "イメージで捉える")[
  自然変換は「関手というムービーの、各フレーム間の差分」のようなものである。$F(X)$ という点が $G(X)$ という点へ移動する「道」が全対象にわたって用意されており、それらがバラバラではなく、圏 $bold(C)$ の構造を保ったまま連動している様子を想像してほしい。
]

#footnote[
  圏論の歴史において、実は「圏」や「関手」よりも先に定義されたのがこの「自然変換」である。数学における「自然な対応」を厳密に定義したいという切実な動機が、圏論という巨大な体系を生んだ。
]

== 自然性四角形：経路独立性の哲学

単に対象ごとに射があるだけでは「自然」とは呼べない。対象を動かしたとき（射を適用したとき）に、変換がその動きと矛盾なく両立しなければならない。

#theorem(title: "自然性 (Naturality)")[
  任意の射 $f: X -> Y in bold(C)$ に対して、次の図式（自然性四角形）が可換であるとき、またそのときに限り、$alpha$ は自然であるという：
  $ G(f) compose alpha_X = alpha_Y compose F(f) $
]

=== なぜ「四角形」なのか？
この等式は、*「翻訳してから移動すること」と「移動してから翻訳すること」の結果が一致する*ことを示している。
もしこれが成り立たないなら、その変換は特定の対象 $X$ の「中身」や「個別の都合」に依存してしまっていることになり、圏の構造全体を反映した「自然な」ものとは言えない。

#remark(title: "『自然』の正体")[
  数学において「自然である」とは、*「特定の基底の選び方や、恣意的な名付けに依存しない」*という意味である。自然性四角形が閉じていることは、その変換が宇宙のどこに持っていっても同じルールで機能することを数学的に証明しているのである。
]

== 自然同型：構造の完全な一致

自然変換の各成分 $alpha_X$ が、たまたま全て $bold(D)$ における同型射（第2章）であった場合、その変換は「情報の欠損がない完璧なコピー」となる。

#definition(title: "自然同型 (Natural Isomorphism)")[
  自然変換 $alpha: F -> G$ の全ての成分 $alpha_X$ が同型射であるとき、$alpha$ を *自然同型* と呼ぶ。
  このとき、関手 $F$ と $G$ は本質的に同じ働きをすると見なされ、$F approx G$ と書く。
]

#example(title: "有限次元ベクトル空間の二重双対")[
  ベクトル空間 $V$ とその二重双対 $V^*$ は自然同型である。これは、基底を一つも選ぶことなく $v |-> (phi |-> phi(v))$ という対応が作れる（＝宇宙のどこでも通用する）からである。一方、$V$ とその双対 $V^*$ は（次元が同じなら）同型だが、「自然」ではない。基底の選び方によって対応が変わってしまうからだ。
]

== 自然等価：圏の「ゆるい」同一視

第1章で「対象の同型」を学んだが、圏そのものの同一視にはもっと柔軟な基準が必要だ。

#definition(title: "圏の等価性 (Equivalence of Categories)")[
  二つの圏 $bold(C), bold(D)$ が等価であるとは、関手 $F: bold(C) -> bold(D)$ と $G: bold(D) -> bold(C)$ が存在し、
  $ G compose F approx 1_bold(C) quad "および" quad F compose G approx 1_bold(D) $
  となることである。
]

#important-box()[
  ここでは厳密な一致 ($=$) ではなく $approx$（自然同型）が使われている。
  これは「行き帰りで元に戻ってきたとき、完全に同じ点に着地しなくても、元の点と自然に区別がつかない場所にいればOK」というルールである。この「ゆるさ」こそが、見かけの違う数学の分野を「本質的には同じだ」と断じる勇気を与えてくれる。
]

== 関手圏と Cat の階層構造

最後に、視点をもう一段引き上げよう。

#definition(title: "関手圏 (Functor Category)")[
  二つの圏 $bold(C), bold(D)$ を固定したとき、
  - 対象：$bold(C)$ から $bold(D)$ へのすべての関手
  - 射：それらの間のすべての自然変換
  をデータとする圏を *関手圏* と呼び、$bold(D)^bold(C)$ と書く。
]

=== 数学の「入れ子構造」
1. *第1層*: 対象（点）と射（矢印）
2. *第2層*: 圏（舞台）と関手（舞台間の写像）
3. *第3層*: 関手（対象）と自然変換（射）

このように、昨日までの「写像（関手）」が、今日からは「止まっている点（対象）」に見えるようになる。このメタ視点の獲得こそが、第5章の米田の補題――「関手を対象として並べることで、元の対象の正体を暴く」――という魔術を理解するための唯一の鍵となる。

#tip-box()[
  - 関手は世界を移し、自然変換は「移し方のズレ」を修正する。
  - 自然性四角形は、その修正が「どこでも一貫している」証である。
  - 自然同型があれば、二つの世界は「名前が違うだけ」で完全に同期している。
]