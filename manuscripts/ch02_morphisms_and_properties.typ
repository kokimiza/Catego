#import "@preview/theorion:0.4.1": *
#import cosmos.clouds: *
#show: show-theorion

前章で見た通り、圏論において対象の中身を覗くことは禁じられている。我々に許されているのは、対象から伸びる「射」を観察することだけだ。本章では、射の組み合わせ（ダイナミクス）だけで数学的性質を定義する手法を学ぶ。

== 同型射：構造的な「等しさ」

集合論における「等しい（$=$）」は、要素が完全に一致することを指す。しかし圏論では、中身が違っていても「互いに行き来でき、元に戻れる」ならば、それらを *同型* と見なす。

#definition(title: "同型射 (Isomorphism)")[
  射 $f: X -> Y$ が *同型射* であるとは、逆向きの射 $g: Y -> X$ が存在して、次の両方が成り立つことをいう：
  $ g compose f = id_X quad "および" quad f compose g = id_Y $
  このとき、$X$ と $Y$ は *同型* であるといい、$X approx Y$ と表記する。
]

#remark[
  これは「名前が違うだけで、ネットワーク上の役割は完全に同一である」ことを意味する。
  例えば、$\{0, 1\}$ という集合と $\{"up", "down"\}$ という集合は中身こそ違うが、圏 $bold("Set")$ においては同型であり、数学的には「同じ構造」として扱われる。
]

== モノ射とエピ射：要素を使わない「単射・全射」

「単射」や「全射」は、通常「要素 $x$」を使って定義される。しかし、中身のない圏論では、射の *キャンセル法則（消去律）* を使ってこれを定義する。これは圏論における最も新奇で鮮やかな転換の一つである。

#definition(title: "モノ射とエピ射")[
  射 $f: X -> Y$ について：
  - 任意の射 $h_1, h_2: Z -> X$ に対して、「$f compose h_1 = f compose h_2$ ならば $h_1 = h_2$」が成り立つとき、$f$ を *モノ射* (monomorphism) と呼ぶ。
  - 任意の射 $k_1, k_2: Y -> Z$ に対して、「$k_1 compose f = k_2 compose f$ ならば $k_1 = k_2$」が成り立つとき、$f$ を *エピ射* (epimorphism) と呼ぶ。
]

#important-box(title: "左キャンセルと右キャンセル")[
  - *モノ射* は「左から $f$ を掛けても情報が潰れない（キャンセルできる）」ことを意味し、包含関係の抽象化である。
  - *エピ射* は「右から $f$ を掛けても情報が潰れない」ことを意味し、全域的な被覆の抽象化である。
]

#footnote[
  具体圏 $bold("Set")$ では、モノ射は単射、エピ射は全射と一致する。しかし、圏によっては「エピ射だが全射ではない」といった現象が起こる。この「ズレ」こそが、個別の圏の個性を浮き彫りにする。
]

== 射の同一性と区別

圏論における「理解」とは、対象を特定することではなく、射を *区別（Distinguish）* することに他ならない。

二つの射 $f, g: X -> Y$ が異なるとはどういうことか？ 集合論なら「ある要素 $x$ で値が違う」と言えるが、圏論では **「ある対象 $Z$ からの射 $h: Z -> X$ を合成したときに、$f compose h$ と $g compose h$ が異なる結果になる」** ことでしか、彼らの違いを証明できない。

この視点は、現代のプログラミングにおける「ブラックボックス・テスト」に近い。内部コード（中身）を見ずに、あらゆる入力（射）を与えて出力を比較することで、機能（射の正体）を特定するのである。

== 分解の発想：構造の最小単位

数学における「定理」の多くは、複雑な対象を単純なものの組み合わせに分解することで得られる。圏論においてこれは、射の *分解 (Factorization)* として現れる。

#theorem(title: "射の分解（イメージ）")[
  任意の射 $f: X -> Y$ は、「本質的な情報を抽出するエピ射」と「ターゲットに埋め込むモノ射」に分解できる場合がある：
  $ X ->> I arrow.tail Y $
  ここで $I$ は $f$ の *像 (Image)* と解釈される。
]

#proof[
  この分解可能性は、圏がどの程度「豊か」であるかを示す指標となる。例えばアーベル圏（$bold("Ab")$ など）では、全ての射がこのように美しく分解される。
]

対象を「点」とし、射を「関係」と見なすことで、私たちは「中身」という埋蔵文化財を掘り起こす苦労から解放された。その代わりに手に入れたのは、異なる数学の分野（群、位相、論理）を全く同じ「矢印のパズル」として比較・統合できる強力な視点である。